<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <menuitem name="GPS" id="menu_root" groups="gpsmap_group_user" web_icon="fleet,static/description/icon.png"/>
    
    <menuitem name="Geolocalizacion" parent="menu_root" id="fleet_vehicles" sequence="2" groups="gpsmap_group_user"/>
        
    <record id="action_gpsmap_maponline" model="ir.actions.client">
        <field name="name">Geolocalizacion</field>
        <field name="tag">gpsmap.maponline</field>
    </record>
    <menuitem id="menu_gpsmap_maponline" name="Mapa Online" parent="fleet_vehicles" action="action_gpsmap_maponline" groups="gpsmap_group_user"/>


    <record model="ir.ui.view" id="positions_tree">
        <field name="name">positions_tree</field>
        <field name="model">gpsmap.positions</field>
        <field name="arch" type="xml">
            <tree string="Reporte de posiciones">
                <field name="deviceid"/>
                <field name="altitude"/>
                <field name="course"/>
                <field name="other"/>                
                <field name="speed"/>
                <field name="event"/>
            </tree>
        </field>
    </record>


    <record id='fleet_position_action' model='ir.actions.act_window'>
        <field name="name">Vehicles</field>
        <field name="res_model">gpsmap.positions</field>
        <field name="view_type">tree</field>
        <field name="view_mode">tree</field>
    </record>

    <menuitem id="menu_fleet_position" name="History"  parent="fleet.fleet_vehicles" action="fleet_position_action" groups="solesgps_map.gpsmap_group_user"/>    

</odoo>
